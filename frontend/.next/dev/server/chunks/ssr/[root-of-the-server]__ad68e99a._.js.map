{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 90, "column": 0}, "map": {"version":3,"sources":["file:///D:/Lead-management-system/frontend/app/services/api.ts"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n  baseURL: process.env.NEXT_PUBLIC_API_BASE_URL,\r\n  timeout: 10000,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  (error) => {\r\n    const status = error.response?.status;\r\n\r\n    if (status === 401) {\r\n      console.warn('Unauthorized - redirecting to login');\r\n      localStorage.removeItem('token');\r\n      window.location.href = '/login';\r\n    }\r\n\r\n    if (status === 500) {\r\n      console.error('Server error');\r\n    }\r\n\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default api;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,MAAM,gJAAK,CAAC,MAAM,CAAC;IACvB,SAAS,QAAQ,GAAG,CAAC,wBAAwB;IAC7C,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAEA,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC,WAAa,UACd,CAAC;IACC,MAAM,SAAS,MAAM,QAAQ,EAAE;IAE/B,IAAI,WAAW,KAAK;QAClB,QAAQ,IAAI,CAAC;QACb,aAAa,UAAU,CAAC;QACxB,OAAO,QAAQ,CAAC,IAAI,GAAG;IACzB;IAEA,IAAI,WAAW,KAAK;QAClB,QAAQ,KAAK,CAAC;IAChB;IAEA,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa"}},
    {"offset": {"line": 120, "column": 0}, "map": {"version":3,"sources":["file:///D:/Lead-management-system/frontend/app/services/leadService.tsx"],"sourcesContent":["import api from './api';\r\n\r\nconst leadService = {\r\n  getLeads: (params?: Record<string, any>) =>\r\n    api.get('/leads', { params }),\r\n\r\n  getLeadById: (id: number) =>\r\n    api.get(`/leads/${id}`),\r\n\r\n  createLead: (data: any) =>\r\n    api.post('/leads', data),\r\n\r\n  updateStatus: (id: number, status: string) =>\r\n    api.put(`/leads/${id}/status`, { status }),\r\n};\r\n\r\nexport default leadService;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,cAAc;IAClB,UAAU,CAAC,SACT,iIAAG,CAAC,GAAG,CAAC,UAAU;YAAE;QAAO;IAE7B,aAAa,CAAC,KACZ,iIAAG,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,IAAI;IAExB,YAAY,CAAC,OACX,iIAAG,CAAC,IAAI,CAAC,UAAU;IAErB,cAAc,CAAC,IAAY,SACzB,iIAAG,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,GAAG,OAAO,CAAC,EAAE;YAAE;QAAO;AAC5C;uCAEe"}},
    {"offset": {"line": 141, "column": 0}, "map": {"version":3,"sources":["file:///D:/Lead-management-system/frontend/app/leads/page.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Paper,\r\n  Chip,\r\n} from '@mui/material';\r\nimport leadService from '../services/leadService';\r\n\r\n/* ================= TYPES ================= */\r\n\r\ninterface AssignedUser {\r\n  id: number;\r\n  name: string;\r\n}\r\n\r\ninterface Lead {\r\n  id: number;\r\n  name: string;\r\n  email: string;\r\n  status: string;\r\n  source?: string;\r\n  assignedUser?: AssignedUser | null;\r\n  updated_at: string;\r\n}\r\n\r\n/* ================= COMPONENT ================= */\r\n\r\nexport default function LeadsPage() {\r\n  const router = useRouter();\r\n  const [leads, setLeads] = useState<Lead[]>([]);\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n\r\n  useEffect(() => {\r\n    fetchLeads();\r\n  }, []);\r\n\r\n  const fetchLeads = async (): Promise<void> => {\r\n    try {\r\n      setLoading(true);\r\n      const res = await leadService.getLeads();\r\n      setLeads(res.data.data);\r\n    } catch (error) {\r\n      console.error('Failed to fetch leads', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box p={3}>\r\n      <Typography variant=\"h5\" fontWeight={600} mb={2}>\r\n        Leads\r\n      </Typography>\r\n\r\n      <TableContainer component={Paper}>\r\n        <Table>\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Name</TableCell>\r\n              <TableCell>Email</TableCell>\r\n              <TableCell>Status</TableCell>\r\n              <TableCell>Assigned User</TableCell>\r\n              <TableCell>Last Activity</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n\r\n          <TableBody>\r\n            {leads.map((lead) => (\r\n              <TableRow\r\n                key={lead.id}\r\n                hover\r\n                sx={{ cursor: 'pointer' }}\r\n                onClick={() => router.push(`/leads/${lead.id}`)}\r\n              >\r\n                <TableCell>{lead.name}</TableCell>\r\n                <TableCell>{lead.email}</TableCell>\r\n\r\n                <TableCell>\r\n                  <Chip\r\n                    label={lead.status}\r\n                    size=\"small\"\r\n                    color={\r\n                      lead.status === 'converted'\r\n                        ? 'success'\r\n                        : lead.status === 'lost'\r\n                        ? 'error'\r\n                        : 'default'\r\n                    }\r\n                  />\r\n                </TableCell>\r\n\r\n                <TableCell>\r\n                  {lead.assignedUser?.name || '-'}\r\n                </TableCell>\r\n\r\n                <TableCell>\r\n                  {new Date(lead.updated_at).toLocaleString()}\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n\r\n            {!loading && leads.length === 0 && (\r\n              <TableRow>\r\n                <TableCell colSpan={5} align=\"center\">\r\n                  No leads found\r\n                </TableCell>\r\n              </TableRow>\r\n            )}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </Box>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;;;;;;AAqBe,SAAS;IACtB,MAAM,SAAS,IAAA,kMAAS;IACxB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAS,EAAE;IAC7C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAU;IAEhD,IAAA,kNAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,MAAM,aAAa;QACjB,IAAI;YACF,WAAW;YACX,MAAM,MAAM,MAAM,0IAAW,CAAC,QAAQ;YACtC,SAAS,IAAI,IAAI,CAAC,IAAI;QACxB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,yBAAyB;QACzC,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,8OAAC,+LAAG;QAAC,GAAG;;0BACN,8OAAC,2NAAU;gBAAC,SAAQ;gBAAK,YAAY;gBAAK,IAAI;0BAAG;;;;;;0BAIjD,8OAAC,2OAAc;gBAAC,WAAW,uMAAK;0BAC9B,cAAA,8OAAC,uMAAK;;sCACJ,8OAAC,uNAAS;sCACR,cAAA,8OAAC,mNAAQ;;kDACP,8OAAC,uNAAS;kDAAC;;;;;;kDACX,8OAAC,uNAAS;kDAAC;;;;;;kDACX,8OAAC,uNAAS;kDAAC;;;;;;kDACX,8OAAC,uNAAS;kDAAC;;;;;;kDACX,8OAAC,uNAAS;kDAAC;;;;;;;;;;;;;;;;;sCAIf,8OAAC,uNAAS;;gCACP,MAAM,GAAG,CAAC,CAAC,qBACV,8OAAC,mNAAQ;wCAEP,KAAK;wCACL,IAAI;4CAAE,QAAQ;wCAAU;wCACxB,SAAS,IAAM,OAAO,IAAI,CAAC,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE;;0DAE9C,8OAAC,uNAAS;0DAAE,KAAK,IAAI;;;;;;0DACrB,8OAAC,uNAAS;0DAAE,KAAK,KAAK;;;;;;0DAEtB,8OAAC,uNAAS;0DACR,cAAA,8OAAC,mMAAI;oDACH,OAAO,KAAK,MAAM;oDAClB,MAAK;oDACL,OACE,KAAK,MAAM,KAAK,cACZ,YACA,KAAK,MAAM,KAAK,SAChB,UACA;;;;;;;;;;;0DAKV,8OAAC,uNAAS;0DACP,KAAK,YAAY,EAAE,QAAQ;;;;;;0DAG9B,8OAAC,uNAAS;0DACP,IAAI,KAAK,KAAK,UAAU,EAAE,cAAc;;;;;;;uCA3BtC,KAAK,EAAE;;;;;gCAgCf,CAAC,WAAW,MAAM,MAAM,KAAK,mBAC5B,8OAAC,mNAAQ;8CACP,cAAA,8OAAC,uNAAS;wCAAC,SAAS;wCAAG,OAAM;kDAAS;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUtD"}}]
}