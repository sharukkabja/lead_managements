{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 90, "column": 0}, "map": {"version":3,"sources":["file:///D:/Lead-management-system/frontend/app/services/axiosInstance.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst axiosInstance = axios.create({\r\n  baseURL: process.env.NEXT_PUBLIC_API_BASE_URL,\r\n  timeout: 10000,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\naxiosInstance.interceptors.response.use(\r\n  (response) => {\r\n    return response;\r\n  },\r\n  (error) => {\r\n    const status = error.response?.status;\r\n\r\n    if (status === 401) {\r\n      console.warn('Unauthorized - redirecting to login');\r\n      localStorage.removeItem('token');\r\n      window.location.href = '/login';\r\n    }\r\n\r\n    if (status === 500) {\r\n      console.error('Server error');\r\n    }\r\n\r\n    return Promise.reject(error);\r\n  }\r\n);\r\nexport default axiosInstance;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,gBAAgB,gJAAK,CAAC,MAAM,CAAC;IACjC,SAAS,QAAQ,GAAG,CAAC,wBAAwB;IAC7C,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAEA,cAAc,YAAY,CAAC,QAAQ,CAAC,GAAG,CACrC,CAAC;IACC,OAAO;AACT,GACA,CAAC;IACC,MAAM,SAAS,MAAM,QAAQ,EAAE;IAE/B,IAAI,WAAW,KAAK;QAClB,QAAQ,IAAI,CAAC;QACb,aAAa,UAAU,CAAC;QACxB,OAAO,QAAQ,CAAC,IAAI,GAAG;IACzB;IAEA,IAAI,WAAW,KAAK;QAClB,QAAQ,KAAK,CAAC;IAChB;IAEA,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAEa"}},
    {"offset": {"line": 122, "column": 0}, "map": {"version":3,"sources":["file:///D:/Lead-management-system/frontend/app/services/leadService.js"],"sourcesContent":["import axiosInstance from './axiosInstance';\r\n\r\nexport const getLeads = async (params) => {\r\n  const { data } = await axiosInstance.get('/api/leads', {\r\n    params,\r\n  });\r\n  return data;\r\n};\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,WAAW,OAAO;IAC7B,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,2IAAa,CAAC,GAAG,CAAC,cAAc;QACrD;IACF;IACA,OAAO;AACT"}},
    {"offset": {"line": 138, "column": 0}, "map": {"version":3,"sources":["file:///D:/Lead-management-system/frontend/app/leads/page.js"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { useRouter } from 'next/router';\r\nimport {\r\n  Box,\r\n  Card,\r\n  CardContent,\r\n  Typography,\r\n  Table,\r\n  TableHead,\r\n  TableRow,\r\n  TableCell,\r\n  TableBody,\r\n  Chip,\r\n  Select,\r\n  MenuItem,\r\n  Grid,\r\n  Pagination,\r\n  CircularProgress,\r\n} from '@mui/material';\r\nimport { getLeads } from '../services/leadService';\r\n\r\nconst PAGE_SIZE = 10;\r\n\r\nexport default function LeadListPage() {\r\n  const router = useRouter();\r\n\r\n  const [leads, setLeads] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const [page, setPage] = useState(1);\r\n  const [total, setTotal] = useState(0);\r\n\r\n  const [filters, setFilters] = useState({\r\n    status: '',\r\n    source: '',\r\n  });\r\n\r\n  const fetchLeads = async () => {\r\n    setLoading(true);\r\n\r\n    const data = await getLeads({\r\n      page,\r\n      limit: PAGE_SIZE,\r\n      status: filters.status || undefined,\r\n      source: filters.source || undefined,\r\n    });\r\n\r\n    setLeads(data.rows);\r\n    setTotal(data.count);\r\n    setLoading(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchLeads();\r\n  }, [page, filters]);\r\n\r\n  const handleFilterChange = (e) => {\r\n    setPage(1);\r\n    setFilters({ ...filters, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ maxWidth: 1200, mx: 'auto', mt: 4 }}>\r\n      <Card>\r\n        <CardContent>\r\n          <Typography variant=\"h5\" gutterBottom>\r\n            Leads\r\n          </Typography>\r\n\r\n          {/* Filters */}\r\n          <Grid container spacing={2} sx={{ mb: 3 }}>\r\n            <Grid item xs={12} md={3}>\r\n              <Select\r\n                fullWidth\r\n                name=\"status\"\r\n                value={filters.status}\r\n                onChange={handleFilterChange}\r\n                displayEmpty\r\n              >\r\n                <MenuItem value=\"\">All Status</MenuItem>\r\n                <MenuItem value=\"new\">New</MenuItem>\r\n                <MenuItem value=\"contacted\">Contacted</MenuItem>\r\n                <MenuItem value=\"qualified\">Qualified</MenuItem>\r\n                <MenuItem value=\"converted\">Converted</MenuItem>\r\n                <MenuItem value=\"lost\">Lost</MenuItem>\r\n              </Select>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} md={3}>\r\n              <Select\r\n                fullWidth\r\n                name=\"source\"\r\n                value={filters.source}\r\n                onChange={handleFilterChange}\r\n                displayEmpty\r\n              >\r\n                <MenuItem value=\"\">All Sources</MenuItem>\r\n                <MenuItem value=\"website\">Website</MenuItem>\r\n                <MenuItem value=\"facebook\">Facebook</MenuItem>\r\n                <MenuItem value=\"referral\">Referral</MenuItem>\r\n              </Select>\r\n            </Grid>\r\n          </Grid>\r\n\r\n          {/* Table */}\r\n          {loading ? (\r\n            <Box sx={{ textAlign: 'center', mt: 4 }}>\r\n              <CircularProgress />\r\n            </Box>\r\n          ) : (\r\n            <Table>\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Name</TableCell>\r\n                  <TableCell>Email</TableCell>\r\n                  <TableCell>Status</TableCell>\r\n                  <TableCell>Assigned User</TableCell>\r\n                  <TableCell>Last Activity</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n\r\n              <TableBody>\r\n                {leads.map((lead) => (\r\n                  <TableRow\r\n                    key={lead.id}\r\n                    hover\r\n                    sx={{ cursor: 'pointer' }}\r\n                    onClick={() => router.push(`/leads/${lead.id}`)}\r\n                  >\r\n                    <TableCell>{lead.name}</TableCell>\r\n                    <TableCell>{lead.email}</TableCell>\r\n                    <TableCell>\r\n                      <Chip label={lead.status} size=\"small\" />\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      {lead.assignedUser?.name || '-'}\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      {lead.lastActivity\r\n                        ? new Date(lead.lastActivity).toLocaleString()\r\n                        : '-'}\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ))}\r\n              </TableBody>\r\n            </Table>\r\n          )}\r\n\r\n          {/* Pagination */}\r\n          <Box sx={{ display: 'flex', justifyContent: 'center', mt: 3 }}>\r\n            <Pagination\r\n              count={Math.ceil(total / PAGE_SIZE)}\r\n              page={page}\r\n              onChange={(e, value) => setPage(value)}\r\n            />\r\n          </Box>\r\n        </CardContent>\r\n      </Card>\r\n    </Box>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}